<!DOCTYPE html>
<html>
	<head>
		<title>RCDC - Calendar</title>
		
		<meta charset="utf-8"/>
        <meta http-equiv="content-type" content="text/html">
        <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
		
		<script src="Scripts/vendor/jquery-1.10.1.min.js" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery.mousewheel-3.0.6.pack.js" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery.fancybox.js?v=2.1.5" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery.fancybox-buttons.js?v=1.0.5" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery.fancybox-thumbs.js?v=1.0.7" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery.fancybox-media.js?v=1.0.6" type="text/javascript"></script>
		<script src="Scripts/vendor/moment.min.js" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery-ui.js" type="text/javascript"></script>
		<script src="Scripts/vendor/fullcalendar.js" type="text/javascript"></script>
		<script src="Scripts/vendor/gcal.js" type="text/javascript"></script>
		<script src="Scripts/vendor/jquery-qtip.js" type="text/javascript"></script>
		<link href="Style/vendor/jquery.fancybox-thumbs.css?v=1.0.7" rel="stylesheet" type="text/css"/>
		<link href="Style/vendor/jquery.fancybox-buttons.css?v=1.0.5" rel="stylesheet" type="text/css"/>
		<link href="Style/vendor/jquery.fancybox.css?v=2.1.5" media="screen" rel="stylesheet" type="text/css"/>
		<link href="Style/vendor/jquery-ui.css" rel="stylesheet" type="text/css"/>
		<link href="Style/vendor/fullcalendar.css" rel="stylesheet" type="text/css"/>
		<link href="Style/vendor/fullcalendar.print.css" rel="stylesheet" media="print" type="text/css"/>
		<link href="Style/vendor/jquery-qtip.css" rel="stylesheet" type="text/css"/>
		
		<link href="Style/index.css" rel="stylesheet" type="text/css"/>
		<link href="Style/calendar.css" rel="stylesheet" type="text/css"/>
		
		
		
		<script>
			$(document).ready(function() {
				$('.fancybox').fancybox();
				
				$(".fancybox-effects-b").fancybox({
					openEffect  : 'fade',
					closeEffect	: 'fade',
					modal : true,
					helpers : {
						title : {
							type : 'over'
						}
					}
				});
			
				$("#fancybox-manual-b").click(function() {
					$.fancybox.open({
						href : 'iframe.html',
						type : 'iframe',
						padding : 5
					});
				});
				
				$('#calendar').fullCalendar({
					height: 500,
					defaultDate: new Date(),
					editable: true,
					eventLimit: true, // allow "more" link when too many events
					selectable: false,
					select: false,
					googleCalendarApiKey: "AIzaSyBrJY4ayDg3Dy9Z8obYvYv2MEF_7sWBT10",
					events: {
						// replace this with your own google calendar id.
						googleCalendarId: "j7q7ccdcdmmv6sa5iu7ps3d2ec@group.calendar.google.com"
					},
					
					header: {
						left: '',
						center: 'title',
						right: 'today prev,next'
					},
					
					buttonIcons: {
						prev: 'left-single-arrow',
						next: 'right-single-arrow',
					},
					
					views: {
						month: { // name of view
							titleFormat: 'MMMM YYYY',
							weekMode: '5'
							// other view-specific options here
						}
					},
					
					eventRender: function( event, element, view ) { 
						if (event.title == "Monday Night Lindy Hop") {
							//apply your logic here, make changes to element.
							element.css('background', 'red');
							element.css('border-color', 'red');
							//element.find('.fc-event-title').append("moo");
							}else if (event.title == "Event"){
							element.css('background', 'blue');
							element.css('border-color', 'blue');
							//element.find('.fc-event-title').append("moo");
						}
						
						var tooltipRender = ('<div>'+event.title+'</div>');
						element.qtip({
							content: tooltipRender,
							style: { classes: 'font-size: 16px;'},
							position: {
								my: 'center left',
								at: 'center center',
								
								target: $(element)
							}
						});
					},
					
					eventMouseOver: function(calEvent, jsEvent, view) {
						
					},
					
					eventClick: function(calEvent, jsEvent, view) {
						var t = calEvent.title;
						var startDate = calEvent.start + "";
						var endDate = calEvent.end + "";
						
						var title = calEvent.title;
						for (var i = 0; i < title.length; i++){
							title = title.replace(" ", "_"); 
						}
						
						var description = calEvent.description;
						for (var i = 0; i < description.length; i++){
							description = description.replace("\n", "_"); 	
						}
						
						var location = calEvent.location + "";
						for (var i = 0; i < location.length; i++){
							location = location.replace(" ", "_"); 
						}
						
						var hrefLink = 'iframe.html#' + title + "#" + description + "#" + startDate + "#" + endDate + "#" + location;
						$.fancybox.open({
							href : hrefLink,
							type : 'iframe',
							padding : 5
						});
					}
				});
				
				//This line of code kept crashing the site. It says:
				//"calEvent not found"
				//Did you mean to put these in the event listener above?
				
				$('#calendar').fullCalendar('renderEvent', calEvent)
				
			});
			
			
			
		</script>
		
		
	</head>
	<body>
		<header>
			<script>
				$("header").load("banner.html")
				
				
				
			</script>
		</header>
		<div id="body">
			<div id="calendar" style="height: 10%; cursor: pointer;"></div>
		</div>
	</body>
</html>																		