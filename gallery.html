<html>
	<head>
		<title>River City Dance Club - Gallery</title>
		
		<!--Meta Tags to define charsets-->
		<meta charset="utf-8"/>
		<meta http-equiv="content-type" content="text/html">
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
		
		
		
		<!--Imports of scripts and css files to allow for all of the functionally needed.-->
		<link rel="stylesheet" href="Style/vendor/basic.css" type="text/css" />
		<link rel="stylesheet" href="Style/vendor/galleriffic-2.css" type="text/css" />
		<link rel="stylesheet" href="Style/index.css" type="text/css" />
		<script type="text/javascript" src="Scripts/vendor/jquery-1.3.2.js"></script>
		<script type="text/javascript" src="Scripts/vendor/jquery.galleriffic.js"></script>
		<script type="text/javascript" src="Scripts/vendor/jquery.opacityrollover.js"></script>
		
		<script type="text/javascript">
			document.write('<style>.noscript { display: none; }</style>');
		</script>
	</head>
	
	
	<body>
		
		<!--Banner definition block-->
		<div id="banner">
			<h1>
				<a href="index.html">
					<img src="Images/riverCityDanceBanner.jpg" alt="River City Dance Club"/>
				</a>
			</h1>
			<menu>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="calendar.html">Calendar</a></li>
					<li><a href="upcomingEvents.html">Upcoming Events</a></li>
					
					<li><a href="gallery.html">Gallery</a></li>
					<li><a href="about.html">About Us</a></li>
					<li><a href="contact.html">Contact Us</a></li>
				</ul>
			</menu>
		</div>
		
		<!--Define basic gallery structure-->
		<div id="body" style="width: 100%;">			
			<div id="page" style="width: 100%;">
				<div id="container" style="width: 100%;">
					<!-- Render main gallery structure-->
					<div id="gallery" class="content" style="width: 100%;">
						<div id="controls" class="controls"></div>
						
						<!--Slide show data if the slider is turned on.-->
						<div class="slideshow-container" style="width: 100%;">
							<div id="loading" class="loader"></div>
							<div id="slideshow" class="slideshow"></div>
						</div>
						
						<!--Create viewable scale image.-->
						<div id="caption" class="caption-container"></div>
					</div>
					<!-- Create thumbnail images-->
					<div id="thumbs" class="navigation">
						<ul class="thumbs noscript" id="galleryImages">
						</ul>
					</div>
					<div style="clear: both;"></div>
				</div>
			</div>
		</div>
		
		<script type="text/javascript">
			
			
			
			//Function to dynamically generate the gallery.
			$(function() {
				var change = function(count, desc) {
					$("#galleryImages").append( '<li> <a class="thumb" href="Images/gallery/slides/image (' + count + ').jpg"> <img src="Images/gallery/thumbs/image (' + count + 
					').jpg"/> </a> <div class=\"caption\"> <div class=\"download\"> <a target="_blank" href=\"Images/gallery/originals/image (' + count + 
					').jpg\">View Original</a> </div> <div style=\"float: left;\" class="image-desc">Description: ' + desc + '</div> </div> </li>' );
				};
				
				
				//Loop that will place the gallery images dynamically into the div on the HTML page. We need to change the second number to accommodate more pictures within the 
				//various path directories, namely: /slides, /thumbs, and /originals
				var file = "Images/ImageDescriptions.txt";
				var rawFile = new XMLHttpRequest();
				rawFile.open("GET", file, false);
				rawFile.onreadystatechange = function ()
				{
					if(rawFile.readyState === 4)
					{
						if(rawFile.status === 200 || rawFile.status == 0)
						{
							var allText = rawFile.responseText;
							lineDescriptions = allText.split("\n");
							
							for (var t = 0; t < lineDescriptions.length; t++){
								var meh = lineDescriptions[t].split(")-");
								lineDescriptions[t] = meh[1];
							}
							
							for (var x = 1; x < lineDescriptions.length; x++){
								change(x, lineDescriptions[x-1]);
							}
						}
					}
				}
				rawFile.send(null);
			});
			
			jQuery(document).ready(function($) {
				
				//readTextFile("Images/ImageDescriptions.txt");
				
				// We only want these styles applied when javascript is enabled
				$('div.navigation').css({'width' : '100px', 'float' : 'left'});
				$('div.content').css('display', 'block');
				
				// Initially set opacity on thumbs and add
				// additional styling for hover effect on thumbs
				var onMouseOutOpacity = 0.67;
				$('#thumbs ul.thumbs li').opacityrollover({
					mouseOutOpacity:   onMouseOutOpacity,
					mouseOverOpacity:  1.0,
					fadeSpeed:         'fast',
					exemptionSelector: '.selected'
				});
				
				// Initialize Advanced Galleriffic Gallery, these are the initial main properties applied to the system.
				var gallery = $('#thumbs').galleriffic({
					delay:                     3000,
					numThumbs:                 5,
					preloadAhead:              10,
					enableBottomPager:         true,
					maxPagesToShow:            6,
					imageContainerSel:         '#slideshow',
					controlsContainerSel:      '#controls',
					captionContainerSel:       '#caption',
					loadingContainerSel:       '#loading',
					renderSSControls:          true,
					renderNavControls:         true,
					playLinkText:              'Play Slideshow',
					pauseLinkText:             'Pause Slideshow',
					prevLinkText:              '&lsaquo; Previous Photo',
					nextLinkText:              'Next Photo &rsaquo;',
					nextPageLinkText:          'Next &rsaquo;',
					prevPageLinkText:          '&lsaquo; Prev',
					enableHistory:             false,
					autoStart:                 false,
					syncTransitions:           true,
					defaultTransitionDuration: 900,
					onSlideChange:             function(prevIndex, nextIndex) {
						// 'this' refers to the gallery, which is an extension of $('#thumbs')
						this.find('ul.thumbs').children()
						.eq(prevIndex).fadeTo('fast', onMouseOutOpacity).end()
						.eq(nextIndex).fadeTo('fast', 1.0);
					},
					onPageTransitionOut:       function(callback) {
						this.fadeTo('fast', 0.0, callback);
					},
					onPageTransitionIn:        function() {
						this.fadeTo('fast', 1.0);
					}
				});
			});
		</script>
	</body>
</html>
